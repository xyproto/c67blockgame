import sdl3 as sdl

println("Test 1: SDL init and window")

sdl.SDL_Init(sdl.SDL_INIT_VIDEO) or! {
    exitln("SDL Init failed!")
}
defer sdl.SDL_Quit()

window := sdl.SDL_CreateWindow("Test", 320, 240, 0) or! {
    exitln("Window creation failed!")
}
defer sdl.SDL_DestroyWindow(window)

renderer := sdl.SDL_CreateRenderer(window, 0) or! {
    exitln("Renderer creation failed!")
}
defer sdl.SDL_DestroyRenderer(renderer)

println("Test 2: Clear screen")
sdl.SDL_SetRenderDrawColor(renderer, 0, 0, 0, 255)
sdl.SDL_RenderClear(renderer)

println("Test 3: Draw one rect")
sdl.SDL_SetRenderDrawColor(renderer, 255, 0, 255, 255)
sdl.SDL_RenderFillRect(renderer, 50, 50, 20, 20)

println("Test 4: Present")
sdl.SDL_RenderPresent(renderer)

println("Test 5: Delay")
sdl.SDL_Delay(1000)

println("Done")
