import "github.com/xyproto/c67game"
import sdl3 as sdl

main = {
    println("Starting...")
    
    sdl.SDL_Init(sdl.SDL_INIT_VIDEO) or! {
        exitln("SDL Init failed!")
    }
    
    println("SDL initialized")
    
    window := sdl.SDL_CreateWindow("Test", 320, 240, 0) or! {
        exitln("Window creation failed!")
    }
    
    println("Window created")
    
    renderer := sdl.SDL_CreateRenderer(window, 0) or! {
        exitln("Renderer creation failed!")
    }
    
    println("Renderer created")
    
    clear_screen(renderer, 0xFF0000)
    present(renderer)
    
    println("Screen cleared and presented")
    
    delay(2000)
    
    println("Done")
    
    sdl.SDL_DestroyRenderer(renderer)
    sdl.SDL_DestroyWindow(window)
    sdl.SDL_Quit()
}
